const books = {
  "Rich Dad Poor Dad": {
      title: "Rich Dad Poor Dad",
      description: "Rich Dad Poor Dad is a personal finance book by Robert Kiyosaki. It advocates financial education and wealth-building through investing in assets like real estate and small businesses.",
      authorName: "Robert Kiyosaki",
      authorImage: "assets/img/robert-kiyosaki.jpg",
      genre: "Personal Finance",
      language: "English",
      format: "Hardcover, Paperback, eBook, Audiobook",
      year: 1997,
      rating: "4.7",
      image: "assets/img/rich-dad-poor-dad.png",
  },
  
  "Me Before You": {
      title: "Me Before You",
      description: "Me Before You by Jojo Moyes is a poignant love story between Louisa Clark, a quirky young woman, and Will Traynor, a successful man left paralyzed after an accident. The book explores themes of disability, independence, and the impact of love.",
      authorName: "Jojo Moyes",
      authorImage: "assets/img/jojo-moyes.jpg",
      genre: "Romance, Contemporary",
      language: "English",
      format: "Hardcover, Paperback, eBook, Audiobook",
      year: 2012,
      rating: "4.6",
      image: "assets/img/me-before-you.png",
  },
  "The Millionaire Next Door": {
          title: "The Millionaire Next Door",
          description: "The Millionaire Next Door explores the habits and behaviors of wealthy individuals, emphasizing frugality, hard work, and smart financial decisions.",
          authorName: "Thomas J. Stanley & William D. Danko",
          authorImage: "assets/img/thomas-william.jpg",
          genre: "Personal Finance",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1996,
          rating: "4.6",
          image: "assets/img/millionaire-next-door.png",
  },
  "The Intelligent Investor": {
          title: "The Intelligent Investor",
          description: "This classic book by Benjamin Graham teaches the principles of value investing and the importance of a long-term strategy for investors.",
          authorName: "Benjamin Graham",
          authorImage: "assets/img/benjamin-graham.jpg",
          genre: "Investing",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1949,
          rating: "4.8",
          image: "assets/img/intelligent-investor.png",
      },
      "Think and Grow Rich": {
          title: "Think and Grow Rich",
          description: "A timeless personal development book by Napoleon Hill that outlines principles for achieving wealth and success through mindset, goals, and action.",
          authorName: "Napoleon Hill",
          authorImage: "assets/img/napoleon-hill.jpg",
          genre: "Self-help",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1937,
          rating: "4.7",
          image: "assets/img/think-grow-rich.png",
      },
      "Atomic Habits": {
          title: "Atomic Habits",
          description: "James Clear's book provides a comprehensive guide on how small habits can lead to massive personal and professional transformation over time.",
          authorName: "James Clear",
          authorImage: "assets/img/james-clear.jpg",
          genre: "Self-help",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2018,
          rating: "4.8",
          image: "assets/img/atomic-habits.png",
      },
      "The Richest Man in Babylon": {
          title: "The Richest Man in Babylon",
          description: "A classic book by George S. Clason that teaches timeless financial principles through parables set in ancient Babylon.",
          authorName: "George S. Clason",
          authorImage: "assets/img/george-clason.jpg",
          genre: "Personal Finance",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1926,
          rating: "4.6",
          image: "assets/img/richest-man-in-babylon.png",
      },
      "Outlander": {
          title: "Outlander",
          description: "Outlander by Diana Gabaldon is a historical romance that combines time travel, adventure, and passion. Claire Randall, a 20th-century nurse, is mysteriously transported to 18th-century Scotland where she falls in love with a Highland warrior.",
          authorName: "Diana Gabaldon",
          authorImage: "assets/img/diana-gabaldon.jpg",
          genre: "Romance, Historical Fiction",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1991,
          rating: "4.7",
          image: "assets/img/outlander.png",
      },
      "The Psychology of Money": {
          title: "The Psychology of Money",
          description: "Morgan Housel discusses the emotional and psychological aspects of money and how human behavior influences financial decisions.",
          authorName: "Morgan Housel",
          authorImage: "assets/img/morgan-housel.jpg",
          genre: "Finance, Psychology",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2020,
          rating: "4.7",
          image: "assets/img/the-pyscholog-of-money.jpeg",
      },
      "You Are a Badass at Making Money": {
          title: "You Are a Badass at Making Money",
          description: "Jen Sincero's motivational book combines personal finance advice with self-development principles to inspire readers to achieve financial success.",
          authorName: "Jen Sincero",
          authorImage: "assets/img/jen-sincero.jpg",
          genre: "Self-help, Personal Finance",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2017,
          rating: "4.5",
          image: "assets/img/you-are-a-badass.png",
      },
      "Dare to Lead": {
          title: "Dare to Lead",
          description: "Brené Brown focuses on leadership and the courage needed to lead, including discussions about vulnerability, trust, and courage in decision-making.",
          authorName: "Brené Brown",
          authorImage: "assets/img/brene-brown.jpg",
          genre: "Leadership, Self-help",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2018,
          rating: "4.8",
          image: "assets/img/dare-to-lead.png",
      },
    "The 4-Hour Workweek":  {
          title: "The 4-Hour Workweek",
          description: "Tim Ferriss introduces unconventional strategies to achieve financial independence, emphasizing automation, outsourcing, and productivity hacks.",
          authorName: "Tim Ferriss",
          authorImage: "assets/img/tim-ferriss.jpg",
          genre: "Entrepreneurship, Productivity",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2007,
          rating: "4.6",
          image: "assets/img/4-hour-workweek.png",
      },
      "The Kiss Quotient": {
          title: "The Kiss Quotient",
          description: "The Kiss Quotient by Helen Hoang is a contemporary romance novel that follows Stella Lane, a successful woman with Asperger's, who hires a male escort to help her navigate the complexities of romantic and physical relationships.",
          authorName: "Helen Hoang",
          authorImage: "assets/img/helen-hoang.jpg",
          genre: "Romance, Contemporary",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2018,
          rating: "4.5",
          image: "assets/img/the-kiss-quotient.png",
      },
     "Principles: Life and Work": {
          title: "Principles: Life and Work",
          description: "Ray Dalio shares the principles that guided his personal and professional life, offering practical insights into decision-making, business, and leadership.",
          authorName: "Ray Dalio",
          authorImage: "assets/img/ray-dalio.jpg",
          genre: "Business, Personal Development",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2017,
          rating: "4.7",
          image: "assets/img/principles.png",
      },
   "The Subtle Art of Not Giving a Fuck": {
          title: "The Subtle Art of Not Giving a Fuck",
          description: "Mark Manson discusses the importance of embracing life's challenges, rejecting societal pressures, and focusing on what truly matters.",
          authorName: "Mark Manson",
          authorImage: "assets/img/mark-manson.jpg",
          genre: "Self-help",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2016,
          rating: "4.5",
          image: "assets/img/subtle-art.png",
      },
      "Pride and Prejudice": {
          title: "Pride and Prejudice",
          description: "Pride and Prejudice is a classic romance novel by Jane Austen. It explores themes of love, reputation, and class as Elizabeth Bennet navigates her feelings for the proud and aloof Mr. Darcy.",
          authorName: "Jane Austen",
          authorImage: "assets/img/jane-austen.jpg",
          genre: "Romance, Classic",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1813,
          rating: "4.9",
          image: "assets/img/pride-and-prejudice.png",
      },
     "The Total Money Makeover":{
          title: "The Total Money Makeover",
          description: "Dave Ramsey's step-by-step plan to achieve financial freedom, get out of debt, and build wealth through a series of straightforward financial principles.",
          authorName: "Dave Ramsey",
          authorImage: "assets/img/dave-ramsey.jpg",
          genre: "Personal Finance",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2003,
          rating: "4.6",
          image: "assets/img/total-money-makeover.png",
      },
       
      "The Fault in Our Stars": {
          title: "The Fault in Our Stars",
          description: "The Fault in Our Stars by John Green is a heart-wrenching romance about two teenagers, Hazel and Gus, who meet at a cancer support group and embark on a love story filled with beauty, heartbreak, and profound emotions.",
          authorName: "John Green",
          authorImage: "assets/img/john-green.jpg",
          genre: "Romance, Young Adult",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 2012,
          rating: "4.7",
          image: "assets/img/the-fault-in-our-stars.png",
      },
     "The E-Myth Revisited": {
          title: "The E-Myth Revisited",
          description: "Michael E. Gerber discusses how small businesses can avoid common pitfalls and become scalable and successful by focusing on systems and processes.",
          authorName: "Michael E. Gerber",
          authorImage: "assets/img/michael-gerber.jpg",
          genre: "Entrepreneurship",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1995,
          rating: "4.5",
          image: "assets/img/e-myth-revisited.png",
      },
     "the art of war": {
          title: "The Art of War",
          description: "Sun Tzu's ancient text on military strategy and leadership, often applied in modern business contexts for its lessons on competition and decision-making.",
          authorName: "Sun Tzu",
          authorImage: "assets/img/sun-tzu.jpg",
          genre: "Business, Leadership",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: -500,
          rating: "4.7",
          image: "assets/img/art-of-war.png",
      },
      "the Note book": {
          title: "The Notebook",
          description: "The Notebook is a romantic novel by Nicholas Sparks. It tells the story of Noah and Allie, whose love story transcends time, obstacles, and life's challenges. Their passionate bond, rekindled years after they first met, is a timeless tale of enduring love.",
          authorName: "Nicholas Sparks",
          authorImage: "assets/img/nicholas-sparks.jpg",
          genre: "Romance",
          language: "English",
          format: "Hardcover, Paperback, eBook, Audiobook",
          year: 1996,
          rating: "4.8",
          image: "assets/img/the-notebook.png",
      }, 
      "persuasion": {
    title: "Persuasion",
    description: "Persuasion is a classic novel by Jane Austen, exploring themes of love, regret, and second chances. The story follows Anne Elliot, a woman who was persuaded to break off her engagement with Captain Frederick Wentworth years ago. As fate brings them together once more, Anne must confront her past decisions and the possibility of rekindling their love.",
    authorName: "Jane Austen",
    authorImage: "assets/img/jane-austen.jpg",
    genre: "Romance, Classic",
    language: "English",
    format: "Hardcover, Paperback, eBook, Audiobook",
    year: 1817,
    rating: "4.6",
    image: "assets/img/Persuasion.png"
},

     
     
      
      
      
    
 
};
 
 

let selectedRating = 0;

function showBookDetails() {
  const selectedBook = document.getElementById("bookInput").value;
  const bookDetails = document.getElementById("bookDetails");
  const selectedBookName = document.getElementById("selectedBookName");

  if (books[selectedBook]) {
    const { description, image } = books[selectedBook];
    bookDetails.innerHTML = `
      <div class="card mb-3">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="${image}" class="img-fluid rounded-start" alt="${selectedBook}">
          </div>
          <div class="col-md-4">
            <div class="card-body">
              <h5 class="card-title">${selectedBook}</h5>
              <p class="card-text">${description}</p>
            </div>
          </div>
        </div>
      </div>`;
    selectedBookName.textContent = `Reviewing: ${selectedBook}`;
    displayReviews(selectedBook);
  }
  else{
    bookDetails.innerHTML = "";
    selectedBookName.textContent = "";
    document.getElementById("reviewList").innerHTML = "Please select a book to see reviews."; 
  }
  
}

function renderStars() {
  const starContainer = document.getElementById("starRating");
  starContainer.innerHTML = "";
  for (let i = 1; i <= 5; i++) {
    const star = document.createElement("span");
    star.classList.add("star");
    star.innerHTML = "★";
    star.dataset.value = i;

    star.addEventListener("mouseover", () => {
      highlightStars(i);
    });

    star.addEventListener("mouseout", () => {
      highlightStars(selectedRating);
    });

    star.addEventListener("click", () => {
      selectedRating = i;
      highlightStars(i);
    });

    starContainer.appendChild(star);
  }
}

function highlightStars(count) {
  const stars = document.querySelectorAll(".star");
  stars.forEach((star, index) => {
    star.classList.toggle("hovered", index < count);
    star.classList.toggle("selected", index < selectedRating);
  });
}

function submitReview() {
  const selectedBook = document.getElementById("bookInput").value;
  const name = document.getElementById("reviewerName").value || "Anonymous";
  const review = document.getElementById("reviewText").value;
  const date = new Date().toLocaleDateString();

  if (!selectedBook || !review || selectedRating === 0) {
    alert("Please fill in all fields and select a rating.");
    return;
  }
   
  

  const newReview = {
    name,
    review,
    rating: selectedRating,
    date,
    book: selectedBook
  };

  let reviews = JSON.parse(localStorage.getItem(selectedBook)) || [];
  reviews.push(newReview);
  localStorage.setItem(selectedBook, JSON.stringify(reviews));

  document.getElementById("reviewerName").value = "";
  document.getElementById("reviewText").value = "";
  selectedRating = 0;
  highlightStars(0);

  displayReviews(selectedBook);
}

function displayReviews(book) {
  const reviewList = document.getElementById("reviewList");
  const reviews = JSON.parse(localStorage.getItem(book)) || [];

  reviewList.innerHTML = reviews.map(r => `
    <li class="list-group-item">
      <h5 class="mb-1">${r.book}</h5>
      <p>${r.review}</p>  
      <p class="mb-1">Rating: ${'★'.repeat(r.rating)}${'☆'.repeat(5 - r.rating)}</p> 
      <p class="mb-1">By ${r.name} <small> on ${r.date}</small></p>

    </li> <br>
  `).join("");
}

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("bookInput").addEventListener("input", showBookDetails);
  renderStars();
});

const bookList = document.getElementById('bookList');
Object.keys(books).forEach(bookTitle => {
  const option = document.createElement('option');
  option.value = bookTitle;
  bookList.appendChild(option);
 
});
